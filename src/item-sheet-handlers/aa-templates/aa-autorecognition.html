<form class="flexcol" id="AAItemSettings" autocomplete="off" novalidate>
    <nav class="flexrow tabs" data-group="sections">
        <a class="aa-options" data-tab="overrides"><i class="fas fa-bomb"></i> Animations </a>
    </nav>

    <section class="content">
        <!--Animation Settings-->
        <div class="tab" data-tab="overrides" data-group="sections">
            {{#each settings.aaAutoRecognition.overrides as |override idx|}}
            <div class='aa-menu-autorec'>
                <div class='flexrow override-entry' data-idx="{{idx}}">
                    <div class='flexcol'>
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.target">
                                Name
                            </label>
                            <div class='form-fields'>
                                <input type='text' name="aaAutoRecognition.overrides.{{idx}}.target"
                                    value="{{lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'target'}}" />
                            </div>
                        </div>
                        {{#ifnoteq (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'target') ""}}
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.type">Type</label>
                            <select name="aaAutoRecognition.overrides.{{idx}}.type">
                                {{#select (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'type')}}
                                <option value=""></option>
                                <option value="melee">Melee</option>
                                <option value="range">Range</option>
                                <option value="spell">Spell</option>
                                {{/select}}
                            </select>
                        </div>
                        {{/ifnoteq}}
                        {{#ifnoteq (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'target') ""}}
                        {{#ifEquals (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'type') "melee"}}
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.animation">Animation</label>
                            <select name="aaAutoRecognition.overrides.{{idx}}.animation">
                                {{#select (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'animation')}}
                                {{#each ../meleeList as |name key|}}
                                <option value="{{key}}">{{name}}</option>
                                {{/each}}
                                {{/select}}
                            </select>
                        </div>
                        {{/ifEquals}}
                        {{#ifEquals (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'type') "range"}}
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.animation">Animation</label>
                            <select name="aaAutoRecognition.overrides.{{idx}}.animation">
                                {{#select (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'animation')}}
                                {{#each ../rangeList as |name key|}}
                                <option value="{{key}}">{{name}}</option>
                                {{/each}}
                                {{/select}}
                            </select>
                        </div>
                        {{/ifEquals}}
                        {{#ifEquals (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'type') "spell"}}
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.animation">Animation</label>
                            <select name="aaAutoRecognition.overrides.{{idx}}.animation">
                                {{#select (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'animation')}}
                                {{#each ../spellList as |name key|}}
                                <option value="{{key}}">{{name}}</option>
                                {{/each}}
                                {{/select}}
                            </select>
                        </div>
                        {{/ifEquals}}
                        {{/ifnoteq}}
                        <div class='form-group'>
                            <label for="aaAutoRecognition.overrides.{{idx}}.color">Color</label>
                            <select name="aaAutoRecognition.overrides.{{idx}}.color">
                                {{#select (lookup (lookup ../settings.aaAutoRecognition.overrides idx) 'color')}}
                                {{#aaEach ../colors 'melee' 'greataxe' '01' as |name key|}}
                                <option value="{{key}}">{{name}}</option>
                                {{/aaEach}}
                                {{/select}}
                            </select>
                        </div>
                    </div>
                    <div class='flexcol remove-override-wrapper'>
                        <button class='remove-override' data-idx="{{idx}}">
                            <i class='far fa-trash-alt'></i>
                        </button>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        <footer class='sheet-footer flexrow add-override-wrapper'>
            <button class='add-override'>
                <i class='far fa-plus-square'></i>Add Override
            </button>
        </footer>
        </div>

    </section>
    <footer class="sheet-footer flexrow">
        <button type="submit" name="submit">
            <i class="fa fa-save"></i> Save and Close
        </button>
    </footer>
</form>